
# Coins Store

## Доступные команды

Для получения списка всех доступных команд выполните команду в корне проекта:

```bash
make help
```

## Управление миграциями БД

Для осуществления ручного управления миграциями БД выполните следующие шаги:

1. Выполните команду для установки зависимостей:

   ```bash
   make installDeps
   ```

2. Ознакомьтесь с инструментом **dbmate** для работы с миграциями.

## Тестирование покрытия

Для проверки покрытия unit тестами слоя **use-case** выполните команду:

```bash
go test -cover ./internal/service
```

## Настройка и запуск проекта

### Создание файла конфигурации

Для любого типа запуска необходимо создать файл `.env` в корне проекта и заполнить его в соответствии с шаблоном `.example.env`

### Локальный запуск проекта

Для запуска проекта локально выполните следующие шаги:

1. Выполните команду для поднятия контейнера с БД и миграциями:

   ```bash
   docker compose up postgresdb migrations
   ```

2. Откройте новую консоль и выполните команду для запуска приложения:

   ```bash
   cd cmd && go run main.go
   ```

3. Откройте новую консоль и выполните команду для запуска Swagger UI:

   ```bash
   make swaggerui
   ```

4. Откройте браузер и введите в адресную строку:

   ```
   http://localhost:5440
   ```

5. Проект будет развёрнут локально, с БД в контейнере и автоматическим применением миграций. SwaggerUI будет доступен для работы с API.

### Запуск проекта в контейнере

Для запуска проекта в контейнере выполните следующие шаги:

1. Выполните команду для поднятия всех контейнеров:

   ```bash
   docker compose up
   ```

2. Откройте новую консоль и выполните команду для запуска Swagger UI:

   ```bash
   make swaggerui
   ```

3. Откройте браузер и введите в адресную строку:

   ```
   http://localhost:5440
   ```

4. Проект будет развёрнут в контейнере, с БД в контейнере и автоматическим применением миграций. SwaggerUI будет доступен для работы с API.

## Требования к данным

### Username

- Должен содержать только латинские строчные и заглавные буквы, а также цифры.
- Должен быть не длиннее 64 символов.

Пример: `user1`

### Password

- Должен содержать минимум 8 символов.
- Должен включать латинские строчные и заглавные буквы.
- Должен содержать хотя бы один спецсимвол.
- Должен быть не менее 8 символов.

Пример: `Test123@`